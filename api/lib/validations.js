
const Joi = require('joi');

const LANGUAGE_SCHEMA = {
    ab: Joi.string(),
    aa: Joi.string(),
    af: Joi.string(),
    ak: Joi.string(),
    sq: Joi.string(),
    am: Joi.string(),
    ar: Joi.string(),
    an: Joi.string(),
    hy: Joi.string(),
    as: Joi.string(),
    av: Joi.string(),
    ae: Joi.string(),
    ay: Joi.string(),
    az: Joi.string(),
    bm: Joi.string(),
    ba: Joi.string(),
    eu: Joi.string(),
    be: Joi.string(),
    bn: Joi.string(),
    bh: Joi.string(),
    bi: Joi.string(),
    bs: Joi.string(),
    br: Joi.string(),
    bg: Joi.string(),
    my: Joi.string(),
    ca: Joi.string(),
    ch: Joi.string(),
    ce: Joi.string(),
    ny: Joi.string(),
    zh: Joi.string(),
    "zh-Hans": Joi.string(),
    "zh-Hant": Joi.string(),
    cv: Joi.string(),
    kw: Joi.string(),
    co: Joi.string(),
    cr: Joi.string(),
    hr: Joi.string(),
    cs: Joi.string(),
    da: Joi.string(),
    dv: Joi.string(),
    nl: Joi.string(),
    dz: Joi.string(),
    en: Joi.string(),
    eo: Joi.string(),
    et: Joi.string(),
    ee: Joi.string(),
    fo: Joi.string(),
    fj: Joi.string(),
    fi: Joi.string(),
    fr: Joi.string(),
    ff: Joi.string(),
    gl: Joi.string(),
    gd: Joi.string(),
    gv: Joi.string(),
    ka: Joi.string(),
    de: Joi.string(),
    el: Joi.string(),
    kl: Joi.string(),
    gn: Joi.string(),
    gu: Joi.string(),
    ht: Joi.string(),
    ha: Joi.string(),
    he: Joi.string(),
    hz: Joi.string(),
    hi: Joi.string(),
    ho: Joi.string(),
    hu: Joi.string(),
    is: Joi.string(),
    io: Joi.string(),
    ig: Joi.string(),
    in: Joi.string(),
    ia: Joi.string(),
    ie: Joi.string(),
    iu: Joi.string(),
    ik: Joi.string(),
    ga: Joi.string(),
    it: Joi.string(),
    ja: Joi.string(),
    jv: Joi.string(),
    kl: Joi.string(),
    kn: Joi.string(),
    kr: Joi.string(),
    ks: Joi.string(),
    kk: Joi.string(),
    km: Joi.string(),
    ki: Joi.string(),
    rw: Joi.string(),
    rn: Joi.string(),
    ky: Joi.string(),
    kv: Joi.string(),
    kg: Joi.string(),
    ko: Joi.string(),
    ku: Joi.string(),
    kj: Joi.string(),
    lo: Joi.string(),
    la: Joi.string(),
    lv: Joi.string(),
    li: Joi.string(),
    ln: Joi.string(),
    lt: Joi.string(),
    lu: Joi.string(),
    lg: Joi.string(),
    lb: Joi.string(),
    gv: Joi.string(),
    mk: Joi.string(),
    mg: Joi.string(),
    ms: Joi.string(),
    ml: Joi.string(),
    mt: Joi.string(),
    mi: Joi.string(),
    mr: Joi.string(),
    mh: Joi.string(),
    mo: Joi.string(),
    mn: Joi.string(),
    na: Joi.string(),
    nv: Joi.string(),
    ng: Joi.string(),
    nd: Joi.string(),
    ne: Joi.string(),
    no: Joi.string(),
    nb: Joi.string(),
    nn: Joi.string(),
    ii: Joi.string(),
    oc: Joi.string(),
    oj: Joi.string(),
    cu: Joi.string(),
    or: Joi.string(),
    om: Joi.string(),
    os: Joi.string(),
    pi: Joi.string(),
    ps: Joi.string(),
    fa: Joi.string(),
    pl: Joi.string(),
    pt: Joi.string(),
    pa: Joi.string(),
    qu: Joi.string(),
    rm: Joi.string(),
    ro: Joi.string(),
    ru: Joi.string(),
    se: Joi.string(),
    sm: Joi.string(),
    sg: Joi.string(),
    sa: Joi.string(),
    sr: Joi.string(),
    sh: Joi.string(),
    st: Joi.string(),
    tn: Joi.string(),
    sn: Joi.string(),
    ii: Joi.string(),
    sd: Joi.string(),
    si: Joi.string(),
    ss: Joi.string(),
    sk: Joi.string(),
    sl: Joi.string(),
    so: Joi.string(),
    nr: Joi.string(),
    es: Joi.string(),
    su: Joi.string(),
    sw: Joi.string(),
    ss: Joi.string(),
    sv: Joi.string(),
    tl: Joi.string(),
    ty: Joi.string(),
    tg: Joi.string(),
    ta: Joi.string(),
    tt: Joi.string(),
    te: Joi.string(),
    th: Joi.string(),
    bo: Joi.string(),
    ti: Joi.string(),
    to: Joi.string(),
    ts: Joi.string(),
    tr: Joi.string(),
    tk: Joi.string(),
    tw: Joi.string(),
    ug: Joi.string(),
    uk: Joi.string(),
    ur: Joi.string(),
    uz: Joi.string(),
    ve: Joi.string(),
    vi: Joi.string(),
    vo: Joi.string(),
    wa: Joi.string(),
    cy: Joi.string(),
    wo: Joi.string(),
    fy: Joi.string(),
    xh: Joi.string(),
    ji: Joi.string(),
    yo: Joi.string(),
    za: Joi.string(),
    zu: Joi.string()
};

const FORM_SCHEMA = Joi.object().keys({
    title: Joi.object().keys(LANGUAGE_SCHEMA).min(1),
    fields: Joi.array().min(1).items({
        id: Joi.string().required(),
        type: Joi.string().only("string", "number", "selection").required(),
        text: Joi.object().keys(LANGUAGE_SCHEMA).min(1),
        required: Joi.boolean().default(false),
        options: Joi.when('type', {
            is: 'selection', 
            then: Joi.array().min(1).items({
                id: Joi.string().required(),
                minSelect: Joi.number(),
                maxSelect: Joi.number().min(Joi.ref('minSelect')),
                text: Joi.object().keys(LANGUAGE_SCHEMA).min(1)
            }).required()
          })
    }).required(),
  })


module.exports = {
    FORM_SCHEMA: FORM_SCHEMA
}